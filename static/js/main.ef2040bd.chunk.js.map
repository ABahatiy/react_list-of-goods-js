{"version":3,"sources":["App.jsx","index.jsx"],"names":["goodsFromServer","id","name","SORT_FIELD_ALPHABET","SORT_FIELD_LENGTH","App","useState","sortfield","setSortField","reverse","setReverse","query","originalGoods","setOriginalGoods","handleSort","field","newReverse","sortedGoods","sort","good1","good2","localeCompare","lengthDiff","length","visibleGoods","goods","preparedGoods","filter","good","toLowerCase","includes","name1","name2","comparisonResult","getPreparedGoods","className","type","cn","onClick","reversedGoods","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef2040bd.chunk.js","sourcesContent":["import 'bulma/css/bulma.css';\nimport './App.scss';\nimport cn from 'classnames';\nimport { useState } from 'react';\n\nexport const goodsFromServer = [\n  { id: 1, name: 'Dumplings' },\n  { id: 2, name: 'Carrot' },\n  { id: 3, name: 'Eggs' },\n  { id: 4, name: 'Ice cream' },\n  { id: 5, name: 'Apple' },\n  { id: 6, name: 'Bread' },\n  { id: 7, name: 'Fish' },\n  { id: 8, name: 'Honey' },\n  { id: 9, name: 'Jam' },\n  { id: 10, name: 'Garlic' },\n];\n\nconst SORT_FIELD_ALPHABET = 'alphabetically';\nconst SORT_FIELD_LENGTH = 'length';\n\nfunction getPreparedGoods(goods, { sortfield, query, reverse }) {\n  let preparedGoods = [...goods];\n\n  if (query) {\n    preparedGoods = preparedGoods\n      .filter(good => good.name\n        .toLowerCase()\n        .includes(query.toLowerCase()));\n  }\n\n  if (sortfield) {\n    preparedGoods.sort((good1, good2) => {\n      const name1 = good1.name.toLowerCase();\n      const name2 = good2.name.toLowerCase();\n\n      let comparisonResult = 0;\n      let lengthDiff;\n\n      switch (sortfield) {\n        case SORT_FIELD_ALPHABET:\n          comparisonResult = reverse\n            ? name2.localeCompare(name1)\n            : name1.localeCompare(name2);\n          break;\n\n        case SORT_FIELD_LENGTH:\n          lengthDiff = reverse\n            ? name2.length - name1.length\n            : name1.length - name2.length;\n\n          if (lengthDiff !== 0) {\n            comparisonResult = lengthDiff;\n          } else {\n            comparisonResult = reverse\n              ? name2.localeCompare(name1)\n              : name1.localeCompare(name2);\n          }\n\n          break;\n\n        default:\n          return 0;\n      }\n\n      return comparisonResult;\n    });\n  } else if (reverse) {\n    // Reverse the goods if there is no sorting but the reverse flag is true\n    preparedGoods.reverse();\n  }\n\n  return preparedGoods;\n}\n\nexport const App = () => {\n  const [sortfield, setSortField] = useState('');\n  const [reverse, setReverse] = useState(false);\n  const [query] = useState('');\n  const [originalGoods, setOriginalGoods] = useState([...goodsFromServer]);\n\n  const handleSort = (field) => {\n    const newReverse = field === sortfield ? !reverse : reverse; // Keep the current reverse state if the same field is clicked\n\n    setSortField(field);\n\n    const sortedGoods = [...originalGoods];\n\n    // Sort the goods\n    sortedGoods.sort((good1, good2) => {\n      switch (field) {\n        case SORT_FIELD_ALPHABET:\n          return newReverse\n            ? good2.name.localeCompare(good1.name)\n            : good1.name.localeCompare(good2.name);\n        case SORT_FIELD_LENGTH: {\n          const lengthDiff = newReverse\n            ? good2.name.length - good1.name.length\n            : good1.name.length - good2.name.length;\n          let result;\n\n          if (lengthDiff !== 0) {\n            result = lengthDiff;\n          } else {\n            result = newReverse\n              ? good2.name.localeCompare(good1.name)\n              : good1.name.localeCompare(good2.name);\n          }\n\n          return result;\n        }\n\n        default:\n          return 0;\n      }\n    });\n\n    setReverse(newReverse);\n    setOriginalGoods(sortedGoods);\n  };\n\n  const handleReverse = () => {\n    // If it's the initial reverse, reverse the original goods\n    if ((!sortfield && !reverse)) {\n      const reversedGoods = [...originalGoods].reverse();\n\n      setOriginalGoods(reversedGoods);\n      setReverse(true);\n      setSortField('');\n    } else {\n      // If it's a reversal after sorting, reverse the sorted goods\n      setReverse(!reverse);\n    }\n  };\n\n  const handleReset = () => {\n    setSortField('');\n    setReverse(false);\n    setOriginalGoods([...goodsFromServer]);\n  };\n\n  const visibleGoods\n    = getPreparedGoods(goodsFromServer, { sortfield, query, reverse });\n  const sortedGoods = [...visibleGoods];\n\n  return (\n    <div className=\"section content\">\n      <div className=\"buttons\">\n        <button\n          type=\"button\"\n          className={cn(\n            'button is-info',\n            {\n              'is-light':\n                sortfield !== SORT_FIELD_ALPHABET\n                || (reverse && sortfield !== SORT_FIELD_ALPHABET),\n            },\n          )}\n          onClick={() => handleSort(SORT_FIELD_ALPHABET)}\n        >\n          Sort alphabetically\n        </button>\n\n        <button\n          type=\"button\"\n          className={cn(\n            'button is-success',\n            {\n              'is-light':\n                sortfield !== SORT_FIELD_LENGTH\n                || (reverse && sortfield !== SORT_FIELD_LENGTH),\n            },\n          )}\n          onClick={() => handleSort(SORT_FIELD_LENGTH)}\n        >\n          Sort by length\n        </button>\n\n        <button\n          type=\"button\"\n          className={cn('button is-warning', { 'is-light': !reverse })}\n          onClick={handleReverse}\n        >\n          Reverse\n        </button>\n\n        {(sortfield || reverse || query) && (\n          <button\n            type=\"button\"\n            className={cn('button is-danger', 'is-light')}\n            onClick={handleReset}\n          >\n            Reset\n          </button>\n        )}\n      </div>\n\n      <ul>\n        {sortedGoods.map(good => (\n          <li key={good.id} data-cy=\"Good\">{good.name}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}